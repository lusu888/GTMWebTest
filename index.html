<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Github Page demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
   
    <!-- Dynamic Tag Manager -->
    <script>
        (function(){window.recordTier = window.recordTier || [], window.recordTier.push({eventName: 'dtm.js'});var e = document.getElementsByTagName('script')[0], r = document.createElement('script');r.async = !0, r.src = 'https://dtm-dre.platform.hicloud.com/download/web/dtm.js?id=DTM-ac1261037e291528817f6af542540bfc', e.parentNode.insertBefore(r, e);})();
    </script>
    <!-- End Dynamic Tag Manager --> 
    
    <script>
      var araryProductObj;
      arrayProductObj = [
           {
             item_name: "Triblend Android T-Shirt",       // Name or ID is required.
             item_id: "12345",
             price: 15.25,
             item_brand: "Google",
             item_category: "Apparel",
             item_category2: "Mens",
             item_category3: "Shirts",
             item_category4: "Tshirts",
             item_variant: "Gray",
             item_list_name: "Search Results",
             item_list_id: "SR123",
             index: 1,
             quantity: 1,
             currency:"USD"
           },
           {
             item_name: "Donut Friday Scented T-Shirt",
             item_id: "67890",
             price: 33,
             item_brand: "Google",
             item_category: "Apparel",
             item_category2: "Mens",
             item_category3: "Shirts",
             item_category4: "Tshirts",
             item_variant: "Black",
             item_list_name: "Search Results",
             item_list_id: "SR123",
             index: 2,
             quantity: 1,
             currency:"USD",
           }
      ]
        
 
      // Measure product views / impressions
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({ ecommerce: null });  // Clear the previous ecommerce object.
      dataLayer.push({
        event: "view_item_list",
        ecommerce:{items: arrayProductObj} 
      });
    </script>

    <script src="index.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P9TWJD3');</script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P9TWJD3"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="main-content">
      <div><h2>GTM DTM Test</h2></div>
      <div><h3>View Product Item List</h3></div>
      <!--
      <div id="cookie_div">
        <div style="display:inline-block;width:150px"><p>Agree Cookie</p></div>
        <div style="display:inline-block;width:100px">
          <label class="switch">
            <input id="cookieagree" type="checkbox">
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      -->

      <div class="card" onclick="cardclick(0)">
        <img src="image/tshirt01.jfif" alt="Avatar" style="width:100%">
        <div class="container">
          <h4><b>Triblend Android T-Shirt</b></h4> 
          <p>$15.25</p> 
        </div>
      </div>
      <div class="card" onclick="cardclick(1)">
        <img src="image/tshirt02.jfif" alt="Avatar" style="width:100%">
        <div class="container">
          <h4><b>Donut Friday Scented T-Shirt</b></h4> 
          <p>$33.00</p> 
        </div>
      </div>
      <!-- 
      <div>
        <button class="button button1" id="btn_cart">Triblend Android T-Shirt</button>
      </div>
      -->
    </div>
    <script>
      function cardclick(productIndex){
              dataLayer.push({ecommerce: null});
              dataLayer.push({
                event:"select_item",
                ecommerce:{
                  items:[arrayProductObj[productIndex]]
                }
              });
              window.location.href="productDetails.html?productIndex="+productIndex
      }

    </script>

</body>
</html>
